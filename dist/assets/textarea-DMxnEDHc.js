import{j as g,l as p,r as w,H as L}from"./index-ZV92skhx.js";class f{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const T=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},n={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:T()},b=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},H=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=b(e);n.publicKey=r.publicKey,n.blockHeadless=r.blockHeadless,n.storageProvider=r.storageProvider,n.blockList=r.blockList,n.limitRate=r.limitRate,n.origin=r.origin||t},S=async(e,t,r={})=>{const o=await fetch(n.origin+e,{method:"POST",headers:r,body:t}),i=await o.text(),s=new f(o.status,i);if(o.ok)return s;throw s},_=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},I=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},$=e=>e.webdriver||!e.languages||e.languages.length===0,k=()=>new f(451,"Unavailable For Headless Browser"),N=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},V=e=>!e.list?.length||!e.watchVariable,F=(e,t)=>e instanceof FormData?e.get(t):e[t],P=(e,t)=>{if(V(e))return!1;N(e.list,e.watchVariable);const r=F(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},j=()=>new f(403,"Forbidden"),D=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},A=async(e,t,r)=>{const o=Number(await r.get(e)||0);return t-Date.now()+o},E=async(e,t,r)=>{if(!t.throttle||!r)return!1;D(t.throttle,t.id);const o=t.id||e;return await A(o,t.throttle,r)>0?!0:(await r.set(o,Date.now().toString()),!1)},R=()=>new f(429,"Too Many Requests"),B=async(e,t,r,o)=>{const i=b(o),s=i.publicKey||n.publicKey,u=i.blockHeadless||n.blockHeadless,c=i.storageProvider||n.storageProvider,d={...n.blockList,...i.blockList},l={...n.limitRate,...i.limitRate};return u&&$(navigator)?Promise.reject(k()):(_(s,e,t),I(r),r&&P(d,r)?Promise.reject(j()):await E(location.pathname,l,c)?Promise.reject(R()):S("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},M=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},K=e=>typeof e=="string"?document.querySelector(e):e,O=async(e,t,r,o)=>{const i=b(o),s=i.publicKey||n.publicKey,u=i.blockHeadless||n.blockHeadless,c=n.storageProvider||i.storageProvider,d={...n.blockList,...i.blockList},l={...n.limitRate,...i.limitRate};if(u&&$(navigator))return Promise.reject(k());const m=K(r);_(s,e,t),M(m);const a=new FormData(m);return P(d,a)?Promise.reject(j()):await E(location.pathname,l,c)?Promise.reject(R()):(a.append("lib_version","4.4.1"),a.append("service_id",e),a.append("template_id",t),a.append("user_id",s),S("/api/v1.0/email/send-form",a))},h={init:H,send:B,sendForm:O,EmailJSResponseStatus:f},v="service_0lqnb2j",y="HJF2n6CK_DGo8ImBf",x="template_wmz7wca",G={sendRegistryConfirmation:async e=>{const t=e.language==="fr",r=t?"Mariage de Cynthia & Steve":"Cynthia & Steve's Wedding",o=t?`Bonjour ${e.to_name},`:`Hi ${e.to_name},`,i=t?"Merci infiniment pour votre contribution à notre liste de mariage !":"Thank you so much for your contribution to our wedding registry!",s=`
      <div style="background-color: #f9f9f9; padding: 15px; border-radius: 5px; border: 1px solid #eee;">
          <p><strong>${t?"Article":"Item"}:</strong> ${e.item_name}</p>
          <p><strong>${t?"Montant":"Amount"}:</strong> CHF ${e.amount}</p>
      </div>
    `,u=t?"Instructions de Paiement":"Payment Instructions",c=t?`
          <strong>IBAN:</strong> CH12 3456 7890 1234 5678 9 <br>
          <strong>TWINT:</strong> 079 123 45 67 (Steve) <br>
          <strong>Ref Code:</strong> ${e.ref_code}
        `:`
          <strong>IBAN:</strong> CH12 3456 7890 1234 5678 9 <br>
          <strong>TWINT:</strong> 079 123 45 67 (Steve) <br>
          <strong>Ref Code:</strong> ${e.ref_code}
        `,l=`
      <div style="font-family: Arial, sans-serif; color: #333; line-height: 1.6; max-width: 600px; margin: 0 auto;">
          <h2 style="color: #d14444; text-align: center;">${r}</h2>
          <p>${o}</p>
          <p>${i}</p>
          ${s}
          <h3>${u}</h3>
          <div style="background-color: #fff0f0; padding: 15px; border: 1px solid #ffdcdc; border-radius: 5px;">
              ${c}
          </div>
          <hr style="border: 0; border-top: 1px solid #eee; margin: 30px 0;">
          <p style="text-align: center; font-size: 0.9em; color: #888;">Cynthia & Steve <br> 13.06.2026</p>
      </div>
    `,m={to_email:e.to_email,to_name:e.to_name,subject:t?`Confirmation - ${r}`:`Confirmation - ${r}`,email_content:l};return console.log("[EmailService] Sending Registry Email:",m),h.send(v,x,m,y).then(a=>(console.log("[EmailService] SUCCESS!",a.status,a.text),a)).catch(a=>{throw console.error("[EmailService] FAILED...",a),a})},sendRSVPConfirmation:async e=>{const t=e.language==="fr",r=t?"Mariage de Cynthia & Steve":"Cynthia & Steve's Wedding",o=t?`Bonjour ${e.to_name},`:`Hi ${e.to_name},`,i=t?"Nous avons bien reçu votre réponse. Voici un récapitulatif :":"We have received your response. Here is a summary:",s=`
      <div style="background-color: #f9f9f9; padding: 15px; border-radius: 5px; border: 1px solid #eee;">
          <p><strong>Status:</strong> ${e.attending_status}</p>
          <p><strong>${t?"Invités":"Guests"}:</strong> ${e.guests_count} | <strong>${t?"Enfants":"Children"}:</strong> ${e.children_count}</p>
          <p><strong>${t?"Souper":"Dinner"}:</strong> ${e.dinner_status}</p>
          <p><strong>${t?"Régime":"Dietary"}:</strong> ${e.dietary_info}</p>
      </div>
    `,c=`
      <div style="font-family: Arial, sans-serif; color: #333; line-height: 1.6; max-width: 600px; margin: 0 auto;">
          <h2 style="color: #d14444; text-align: center;">${r}</h2>
          <p>${o}</p>
          <p>${i}</p>
          ${s}
          ${e.apero_summary||""}
          <hr style="border: 0; border-top: 1px solid #eee; margin: 30px 0;">
          <p style="text-align: center; font-size: 0.9em; color: #888;">Cynthia & Steve <br> 13.06.2026</p>
      </div>
    `,d={to_email:e.to_email,to_name:e.to_name,subject:t?`Confirmation RSVP - ${r}`:`RSVP Confirmation - ${r}`,email_content:c};return console.log("[EmailService] Sending RSVP Email:",d),h.send(v,x,d,y).then(l=>(console.log("[EmailService] SUCCESS!",l.status,l.text),l)).catch(l=>{throw console.error("[EmailService] FAILED...",l),l})}};function Y({className:e,type:t,...r}){return g.jsx("input",{type:t,"data-slot":"input",className:p("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var q=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],W=q.reduce((e,t)=>{const r=L(`Primitive.${t}`),o=w.forwardRef((i,s)=>{const{asChild:u,...c}=i,d=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(d,{...c,ref:s})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),z="Label",C=w.forwardRef((e,t)=>g.jsx(W.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));C.displayName=z;var U=C;function Q({className:e,...t}){return g.jsx(U,{"data-slot":"label",className:p("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function X({className:e,...t}){return g.jsx("textarea",{"data-slot":"textarea",className:p("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}export{G as E,Y as I,Q as L,X as T};

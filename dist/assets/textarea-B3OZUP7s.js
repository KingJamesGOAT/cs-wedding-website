import{j as u,l as b,r as _,H}from"./index-BacLsXAl.js";class m{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const C=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},i={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:C()},p=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},N=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=p(e);i.publicKey=r.publicKey,i.blockHeadless=r.blockHeadless,i.storageProvider=r.storageProvider,i.blockList=r.blockList,i.limitRate=r.limitRate,i.origin=r.origin||t},x=async(e,t,r={})=>{const o=await fetch(i.origin+e,{method:"POST",headers:r,body:t}),s=await o.text(),n=new m(o.status,s);if(o.ok)return n;throw n},S=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},I=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},k=e=>e.webdriver||!e.languages||e.languages.length===0,P=()=>new m(451,"Unavailable For Headless Browser"),V=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},D=e=>!e.list?.length||!e.watchVariable,F=(e,t)=>e instanceof FormData?e.get(t):e[t],E=(e,t)=>{if(D(e))return!1;V(e.list,e.watchVariable);const r=F(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},j=()=>new m(403,"Forbidden"),B=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},K=async(e,t,r)=>{const o=Number(await r.get(e)||0);return t-Date.now()+o},L=async(e,t,r)=>{if(!t.throttle||!r)return!1;B(t.throttle,t.id);const o=t.id||e;return await K(o,t.throttle,r)>0?!0:(await r.set(o,Date.now().toString()),!1)},R=()=>new m(429,"Too Many Requests"),A=async(e,t,r,o)=>{const s=p(o),n=s.publicKey||i.publicKey,l=s.blockHeadless||i.blockHeadless,c=s.storageProvider||i.storageProvider,d={...i.blockList,...s.blockList},g={...i.limitRate,...s.limitRate};return l&&k(navigator)?Promise.reject(P()):(S(n,e,t),I(r),r&&E(d,r)?Promise.reject(j()):await L(location.pathname,g,c)?Promise.reject(R()):x("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:n,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},M=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},O=e=>typeof e=="string"?document.querySelector(e):e,q=async(e,t,r,o)=>{const s=p(o),n=s.publicKey||i.publicKey,l=s.blockHeadless||i.blockHeadless,c=i.storageProvider||s.storageProvider,d={...i.blockList,...s.blockList},g={...i.limitRate,...s.limitRate};if(l&&k(navigator))return Promise.reject(P());const f=O(r);S(n,e,t),M(f);const a=new FormData(f);return E(d,a)?Promise.reject(j()):await L(location.pathname,g,c)?Promise.reject(R()):(a.append("lib_version","4.4.1"),a.append("service_id",e),a.append("template_id",t),a.append("user_id",n),x("/api/v1.0/email/send-form",a))},h={init:N,send:A,sendForm:q,EmailJSResponseStatus:m},v="service_8o2jqdr",y="HJF2n6CK_DGo8ImBf",w="template_hpuv9lp",G={sendRegistryConfirmation:async e=>{const t={type:"registry",language:e.language,to_name:e.to_name,to_email:e.to_email,item_name:e.item_name,amount:e.amount,ref_code:e.ref_code,payment_info:e.language==="fr"?`
          <strong>IBAN:</strong> CH12 3456 7890 1234 5678 9 <br>
          <strong>TWINT:</strong> 079 123 45 67 (Steve) <br>
          <strong>Ref Code:</strong> ${e.ref_code}
        `:`
          <strong>IBAN:</strong> CH12 3456 7890 1234 5678 9 <br>
          <strong>TWINT:</strong> 079 123 45 67 (Steve) <br>
          <strong>Ref Code:</strong> ${e.ref_code}
        `};return console.log("[EmailService] Sending Registry Email:",t),h.send(v,w,t,y).then(r=>(console.log("[EmailService] SUCCESS!",r.status,r.text),r)).catch(r=>{throw console.error("[EmailService] FAILED...",r),r})},sendRSVPConfirmation:async e=>{const t={type:"rsvp",language:e.language,to_name:e.to_name,to_email:e.to_email,attending_status:e.attending_status,guests_count:e.guests_count,children_count:e.children_count,dinner_status:e.dinner_status,dietary_info:e.dietary_info,apero_summary:e.apero_summary};return console.log("[EmailService] Sending RSVP Email:",t),h.send(v,w,t,y).then(r=>(console.log("[EmailService] SUCCESS!",r.status,r.text),r)).catch(r=>{throw console.error("[EmailService] FAILED...",r),r})}};function Y({className:e,type:t,...r}){return u.jsx("input",{type:t,"data-slot":"input",className:b("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var $=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],U=$.reduce((e,t)=>{const r=H(`Primitive.${t}`),o=_.forwardRef((s,n)=>{const{asChild:l,...c}=s,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:n})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),J="Label",T=_.forwardRef((e,t)=>u.jsx(U.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));T.displayName=J;var W=T;function Q({className:e,...t}){return u.jsx(W,{"data-slot":"label",className:b("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function X({className:e,...t}){return u.jsx("textarea",{"data-slot":"textarea",className:b("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}export{G as E,Y as I,Q as L,X as T};
